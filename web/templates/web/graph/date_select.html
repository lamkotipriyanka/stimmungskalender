{% load relative_url %}
{% load i18n %}
<!-- Date range filter -->
<form action="{% url 'graph' %}" method="get" class="mb-3">
    <div class="row align-items-end input-daterange">
        <div class="form-group col-12 col-md-3">
            <label for="start_dt" class="col-sm-2 col-form-label">{% translate 'start_date' %}</label>
            <input type="text"
                   data-provide="datepicker"
                   placeholder="YYYY-MM-DD"
                   name="start_dt"
                   class="form-control"
                   id="start_dt"
                   value="{{ start_dt|date:'Y-m-d' }}"/>
        </div>
        <div class="form-group col-12 col-md-3">
            <label for="end_dt" class="col-sm-2 col-form-label">{% translate 'end_date' %}</label>
            <input type="text"
                   data-provide="datepicker"
                   placeholder="YYYY-MM-DD"
                   name="end_dt"
                   class="form-control"
                   id="end_dt"
                   value="{{ end_dt|date:'Y-m-d' }}"/>
        </div>
        <div class="form-group col-12 col-md-2">
            <button type="submit" class="btn btn-primary">{% translate 'go_to' %}</button>
        </div>
    </div>
</form>
<!-- Date range buttons -->
<ul class="nav">
    <li class="nav-item">
        <a class="nav-link"
           href="{% relative_url graph_time_ranges.first_day 'start_dt' params %}">{% translate 'from_start' %}</a>
    </li>
    {% with params=request.GET.urlencode %}
        <li class="nav-item">
            <a href="{% relative_url graph_time_ranges.last_week_start_dt 'start_dt' params %}"
               class="nav-link">
                {% translate 'last_week' %}
            </a>
        </li>
        <li class="nav-item">
            <a href="{% relative_url graph_time_ranges.last_month_start_dt 'start_dt' params %}"
               class="nav-link">
                {% translate 'last_month' %}
            </a>
        </li>
        <li class="nav-item">
            <a href="{% relative_url graph_time_ranges.last_year_start_dt 'start_dt' params %}"
               class="nav-link">
                {% translate 'last_year' %}
            </a>
        </li>
    {% endwith %}
</ul>
